<!doctype html>
<html>
<head>
    <title>Little app of calm</title>
    <meta charset="utf-8">
     <link rel="stylesheet" href="/css/bulma/bulma.min.css"> 
     <link rel="stylesheet" href="/css/custom_stylesheet.css"> 
    <script type="text/javascript"
        src="/js/brython/brython.js">
    </script>
    <script src="/js/brython/brython_stdlib.js">
    </script>
</head>

<body onload="brython()">
    
<!-- Top section --> 
<section class="section">
  <div class="container">
      <div class="notification is-light">
  <nav class="level">
      <div class="level-left">
            Student: <input class="input" type="text" type="text" value="{{studentcode}}" id="studentcode" readonly>
        <button class="button is-primary is-light" onclick="copyStudentcode()">Copy to clipboard!</button>
        <span id="info-success-copy-code" class="tag is-success is-light invisible">Copied to clipboard!</span>
      </div>

      <a href="../" class="button">{{ name_submissionÂ }}</a>
      <a href="./" class="button">Group {{group}}</a>
      <div class="cycle-students">
          {% if prev_submission %}
              <a href="{{prev_submission}}" class="button">&lt; Previous</a>
          {% endif %}
          {% if next_submission %}
              <a href="{{next_submission}}" class="button">Next &gt;</a>
          {% else %}
              <a href="#" class="button" >Finito!</a>
          {% endif %}
      </div>
      
  </nav>
  </div>
  </div>
</section>

{% if context %}
<div class="container">  
    <!-- Output box -->
    <div class="box">
      <div class="content">
        <nav class="level">
            <div class="level-left">
              Result:
            </div>
            <div class="level-right">
                <button class="button" onclick="clearUp()">Clear result</button>
            </div>
        </nav>
           <pre><code class="python" id="result-code-ran">Run the code, see the results here...</code></pre>
           <div id="running"></div>
      </div>
</div>

<!-- Mid - buttons -->
<nav class="level">
  <div class="level-left">
    <button class="button is-primary is-light" onclick="copyStudentsubmission()">Copy submission to clipboard!</button>
    <span id="info-success-copy-submission" class="tag is-success is-light invisible">Copied to clipboard!</span>
  </div>
  <div class="level-right">
    <button class="button is-primary is-light" onclick="runCodeInPython()">Run code!</button>
  </div>
</nav>

<section class="section">
    <div class="container">
        <div class="columns">
            <div class="column">
                <code class="python" id="submissioncode">{{ context }}</code>
                {% else %}
                <h1>Could not find file</h1>
                {% endif %}
            </div>
            <div class="column">
                <div id="feedback-field">Feedback to {{ studentcode }}:</div>
            </div>
        </div>
    </div>
</section>

<script src="/js/custom_base.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/custom_py.py" type="text/python" charset="utf-8"></script>
<script src="/js/ace/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script>
    var feedback = ace.edit("feedback-field");
    feedback.setTheme("ace/theme/github");
    feedback.setOptions({
        showLineNumbers: false,
        displayIndentGuides: false,
        highlightGutterLine: false,
        printMargin: false,
        showGutter: false,
        minLines: 1,
    });
    feedback.session.setMode("ace/mode/markdown");
    var editor = ace.edit("submissioncode");
    editor.setTheme("ace/theme/gruvbox");
    editor.session.setMode("ace/mode/python");
</script>
</body>
</html>
